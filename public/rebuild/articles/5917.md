## 1、搭建项目

### 新建项目

```bash
npx nuxi@latest init nuxt3-blog
```

*创建 Nuxt 项目报错Error:Failed to download template from registry:Failed to download https://raw.githubus*

- 在 [ipaddress](https://sites.ipaddress.com/) 中查询 raw.githubusercontent.com 对应的服务器 IP 地址
- 打开 C:\Windows\System32\drivers\etc ，在 hosts 文件中添加以下内容

```
# 将 Nuxt 下载请求的服务器域名与其服务器 IP 直接映射
185.199.108.133 raw.githubusercontent.com
185.199.109.133 raw.githubusercontent.com
185.199.110.133 raw.githubusercontent.com
185.199.111.133 raw.githubusercontent.com
```

### 配置 nuxt.config.ts

[Nuxt快速学习开发（二）-Nuxt3配置](https://juejin.cn/post/7213935228902309948?searchId=202501221035287BD84306C31F57805EA0)

## 2、核心概念

- Vue 技术栈：Vue3 + Vue Router + Vite + 服务引擎 Nitro 等技术栈。
- 约定式路由：目录结构即路由，在 `pages/` 目录中创建的每个页面，都会根据目录结构和文件名来自动生成路由。
- 自动导包：自动导入辅助函数、组合式 API 和 Vue API，无需手动导入。
- 支持多种渲染模式： SSR、 CSR、 SSG 等。
- 服务器端渲染模式：提高首屏渲染速度，还利于 SEO。

## 3、官方教程总结

[Nuxt 文档](https://www.nuxt.com.cn/docs/getting-started/views)

### 3.1 视图

#### 3.1.1 自动导入视图组件

配置 nuxt.config.ts

```ts
  alias: {
    "~": "src",
    "@": "src",
  },
  ......
  components: {
    // 配置 Nuxt components 组件自动注册,配置的目录中的任何组件都可以在整个页面、布局（和其他组件）中使用，而无需显式导入它们。
    dirs: [
      "@/components",
    ],
  },
```

在 src/components 下的所有 .vue 文件将被自动注册为组件。

#### 3.1.2 自动生成路由

在 nuxt.config.ts 里配置

```ts
pages: true,
......
dir: {
  pages: "src/pages", // 将被处理以自动生成应用程序页面路由的目录。 默认： "pages"
},
```

修改 app.vue

```vue
<template>
  <div>
    <!-- 所有页面共享的标记，例如导航栏 -->
    <NuxtPage />
  </div>
</template>
```

现在可以在 src/page 下创建 .vue 文件了，他们会被映射成路由。

> 注意单一根元素的影响

#### 3.1.3 布局

在 nuxt.config.ts 里配置

```ts
dir: {
  layouts: "src/layouts",
}
```

会使用 src/layouts 下的 default.vue

default.vue

```vue
<template>
  <div>
    <AppHeader />
    <slot />
    <AppFooter />
  </div>
</template>
```

*app.vue 启用布局*

```vue
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```

- 可以通过命名布局和动态更改布局的方式在页面中使用。

### 3.2 资源

- 访问图片资源跟 vue 项目一样
  - 通过 public 访问
  - 通过 assets 访问
- 通过配置 nuxt.config.ts 中的 vite 将全局样式导入 `additionalData: '@use "@/styles/_colors.scss" as *;'`
